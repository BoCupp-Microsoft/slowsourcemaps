<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sourcemap Performance Test</title>
</head>
<script type = "module">
    const checkbox = document.getElementById('runperiodicscript');
    let intervalId;
    checkbox.addEventListener('change', () => {
        if (checkbox.checked) {
            intervalId = setInterval(() => {
                // Some periodic work
                runAllScripts();
            }, 1000);
        } else {
            clearInterval(intervalId);
        }
    });

    // Start the periodic script if the checkbox is initially checked
    if (checkbox.checked) {
        intervalId = setInterval(() => {
            runAllScripts();
        }, 1000);
    }

    function runAllScripts() {
        // Simulate running some scripts
        for (let i = 1; i <= 100; i++) {
            // This is just a placeholder for actual script execution
            eval("script" + i + "();");
        }
    }
</script>
<body>
    <h1>Sourcemap Performance Test</h1>
    <p>This page loads 100 scripts, each referencing a non-existent sourcemap.  It can also run a function from each of the 100 scripts once per second if the checkbox below is checked.</p>
    <p>Open DevTools and record a performance profile of this page to reproduce the slow sourcemap issue.  In Chromium 143 the issue always repros.  In 142 and earlier it only repros if the recorded profile includes the initial load of the scripts.</p>
    
    <p><input type="checkbox" id="runperiodicscript" checked> Run some script every 1 second</p>
    <script src="scripts/script1.js"></script>
    <script src="scripts/script2.js"></script>
    <script src="scripts/script3.js"></script>
    <script src="scripts/script4.js"></script>
    <script src="scripts/script5.js"></script>
    <script src="scripts/script6.js"></script>
    <script src="scripts/script7.js"></script>
    <script src="scripts/script8.js"></script>
    <script src="scripts/script9.js"></script>
    <script src="scripts/script10.js"></script>
    <script src="scripts/script11.js"></script>
    <script src="scripts/script12.js"></script>
    <script src="scripts/script13.js"></script>
    <script src="scripts/script14.js"></script>
    <script src="scripts/script15.js"></script>
    <script src="scripts/script16.js"></script>
    <script src="scripts/script17.js"></script>
    <script src="scripts/script18.js"></script>
    <script src="scripts/script19.js"></script>
    <script src="scripts/script20.js"></script>
    <script src="scripts/script21.js"></script>
    <script src="scripts/script22.js"></script>
    <script src="scripts/script23.js"></script>
    <script src="scripts/script24.js"></script>
    <script src="scripts/script25.js"></script>
    <script src="scripts/script26.js"></script>
    <script src="scripts/script27.js"></script>
    <script src="scripts/script28.js"></script>
    <script src="scripts/script29.js"></script>
    <script src="scripts/script30.js"></script>
    <script src="scripts/script31.js"></script>
    <script src="scripts/script32.js"></script>
    <script src="scripts/script33.js"></script>
    <script src="scripts/script34.js"></script>
    <script src="scripts/script35.js"></script>
    <script src="scripts/script36.js"></script>
    <script src="scripts/script37.js"></script>
    <script src="scripts/script38.js"></script>
    <script src="scripts/script39.js"></script>
    <script src="scripts/script40.js"></script>
    <script src="scripts/script41.js"></script>
    <script src="scripts/script42.js"></script>
    <script src="scripts/script43.js"></script>
    <script src="scripts/script44.js"></script>
    <script src="scripts/script45.js"></script>
    <script src="scripts/script46.js"></script>
    <script src="scripts/script47.js"></script>
    <script src="scripts/script48.js"></script>
    <script src="scripts/script49.js"></script>
    <script src="scripts/script50.js"></script>
    <script src="scripts/script51.js"></script>
    <script src="scripts/script52.js"></script>
    <script src="scripts/script53.js"></script>
    <script src="scripts/script54.js"></script>
    <script src="scripts/script55.js"></script>
    <script src="scripts/script56.js"></script>
    <script src="scripts/script57.js"></script>
    <script src="scripts/script58.js"></script>
    <script src="scripts/script59.js"></script>
    <script src="scripts/script60.js"></script>
    <script src="scripts/script61.js"></script>
    <script src="scripts/script62.js"></script>
    <script src="scripts/script63.js"></script>
    <script src="scripts/script64.js"></script>
    <script src="scripts/script65.js"></script>
    <script src="scripts/script66.js"></script>
    <script src="scripts/script67.js"></script>
    <script src="scripts/script68.js"></script>
    <script src="scripts/script69.js"></script>
    <script src="scripts/script70.js"></script>
    <script src="scripts/script71.js"></script>
    <script src="scripts/script72.js"></script>
    <script src="scripts/script73.js"></script>
    <script src="scripts/script74.js"></script>
    <script src="scripts/script75.js"></script>
    <script src="scripts/script76.js"></script>
    <script src="scripts/script77.js"></script>
    <script src="scripts/script78.js"></script>
    <script src="scripts/script79.js"></script>
    <script src="scripts/script80.js"></script>
    <script src="scripts/script81.js"></script>
    <script src="scripts/script82.js"></script>
    <script src="scripts/script83.js"></script>
    <script src="scripts/script84.js"></script>
    <script src="scripts/script85.js"></script>
    <script src="scripts/script86.js"></script>
    <script src="scripts/script87.js"></script>
    <script src="scripts/script88.js"></script>
    <script src="scripts/script89.js"></script>
    <script src="scripts/script90.js"></script>
    <script src="scripts/script91.js"></script>
    <script src="scripts/script92.js"></script>
    <script src="scripts/script93.js"></script>
    <script src="scripts/script94.js"></script>
    <script src="scripts/script95.js"></script>
    <script src="scripts/script96.js"></script>
    <script src="scripts/script97.js"></script>
    <script src="scripts/script98.js"></script>
    <script src="scripts/script99.js"></script>
    <script src="scripts/script100.js"></script>
</body>
</html>